<!DOCTYPE html>
<html>
	<head>
		<script src="https://kit.fontawesome.com/39cab4bf95.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" type="text/css" href="../css/F.css">
		<title>Notas</title>
	</head>
	<body>
		<h1 class="titles">Medias</h1>
        <i class="fa-solid fa-check icon"></i>
		<div class="sistem">
			<div class="definic" id="definic">
                <label class="lb lbActive" id="labelA">Stage 1</label>
                <label class="title">Definir Sala:</label>
                <i class="fa-solid fa-graduation-cap iconsimbolic"></i>
                <input type="number" id="nrmalun" min="1" max="20" class="Input" placeholder="Numero de Alunos">
                <input type="number" id="nrmnotas" min="1" max="10" class="Input" placeholder="Numero de Notas por Aluno">
                <p class="palagrafy">media 7, nota de 0 a 10, limites a mais são por fimns de agilidade do sistema</p>
                <button class="btn" onclick="FormInc()">Próximo Passo</button>
            </div>
            <div class="addBd" id="addBd">
                <label class="lb" id="labelB" style="margin-left: -40vw;">Stage 2</label>
                <div class="form" id="inputs">
                </div>
                <button class="btn" onclick="FormInc2()">Próximo Passo</button>
                <button class="btn" onclick="Back(0)">Voltar</button>
            </div>
            <div class="resultTab" id="resultTab">
                <label class="lb" id="labelC" style="margin-left: -32vw;">Stage 3</label>
                <div class="scrollTable">
                	<table class="table" id="table">
					  <tr class="tbTr">
					    <th class="tbTh">Company</th>
					    <th class="tbTh">Contact</th>
					  </tr>
					  <tr class="tbTr">
					    <td class="tbTd">Alfreds Futterkiste</td>
					    <td class="tbTd">Maria Anders</td>
					  </tr>
					</table>
                </div>
                <button class="btn">Voltar</button>
            </div>
		</div>
		<script type="text/javascript">
            const media = 7.0;
            let alunos = [];
            let notas = [[]];
			let qt = [
				0,
				0
			];
			function most(btn, id, fun){
				let div = document.querySelector(id);
				let textBtnF = fun==0? 'V':'∆';
				if(fun==0){
					div.style.display = 'flex';
				}else{
					div.style.display = 'none';
				}
				var funMod = fun==0? 1:0;
				let onclick = "most(this, '"+id+"', "+funMod+")";
				btn.setAttribute("onclick", onclick);
				btn.innerHTML = "Definir Notas "+textBtnF;
			}
			function indexcolorLb(lb, divs, lbes){
				let Divs = [
					document.querySelector(divs[0]),
					document.querySelector(divs[1]),
					document.querySelector(divs[2])
				];
				let lbs = [
					document.querySelector(lb+'A'),
					document.querySelector(lb+'B'),
					document.querySelector(lb+'C')
				];

				Divs[0].style.zIndex = '3';
				Divs[1].style.zIndex = '2';
				Divs[2].style.zIndex = '1';
				
				lbs[0]. className = 'lb';
				lbs[1]. className = 'lb';
				lbs[2]. className = 'lb';

				lbs[lbes]. className += ' lbActive';
			};

			function FormInc(){
				indexcolorLb('#label', ['#addBd', '#definic', '#resultTab'], 1);
				//alunos
				qt[0] = document.querySelector('#nrmalun').value ==''? 1:document.querySelector('#nrmalun').value;
				//notas
				qt[1] = document.querySelector('#nrmnotas').value ==''? 1:document.querySelector('#nrmnotas').value;

				let divScipt = document.querySelector('#inputs');
				for (var i=0; i<qt[0]; i++) {
					divScipt.innerHTML += `
						<div class="Card">
	                		<input type="text" id="Nome`+i+`" placeholder="Nome do aluno" class="CardNmInput">
	                		<button class="btnCard" onclick="most(this, '#divOcul`+i+`', 0)">Definir Notas ∆</button>
	                		<div class="notas" id="divOcul`+i+`">
	                		</div>
	                	</div>
					`;
					let idNotas = document.querySelector('#divOcul'+i);
					for(var i2=0; i2<qt[1]; i2++){
						idNotas.innerHTML += `
							<input type="number" id="Nm`+i+`nt`+i2+`" placeholder="Nota `+(i2+1)+`" class="CardNtInput" min="0" max="10">
						`;
					}
				};
			}
			function Back(fun){
				let divScipt = document.querySelector('#inputs');
				divScipt.innerHTML = '';
				alunos = [];
	            notas = [[]];
				qt = [
					0,
					0
				];
				if(fun==0){
					indexcolorLb('#label', ['#definic','#addBd', '#resultTab'], 0);
				}else{
					//indexcolorLb('#label', ['#definic','#addBd', '#resultTab'], 0);
				};
			};
			function FormInc2(){
				indexcolorLb('#label', ['#resultTab','#definic','#addBd'], 2);
			}
		</script>
	</body>
</html>
